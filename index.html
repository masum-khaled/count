<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hours Calculator</title>
    <style>
        /* General Body Styling */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        /* Tab Button Styling */
        .tab {
            display: flex;
            justify-content: space-between;
            width: 100%;
            background-color: #333;
        }

        .tab button {
            flex: 1;
            background-color: inherit;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            color: white;
            font-size: 17px;
            text-align: center;
        }

        .tab button:hover {
            background-color: #575757;
        }

        .tab button.active {
            background-color: #007bff;
        }

        /* Tab Content */
        .tabcontent {
            display: none;
            padding: 20px;
            margin: 0 auto;
            width: 100%;
            max-width: 600px;
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        /* Textarea */
        textarea {
            width: calc(100% - 22px);
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            height: 150px;
            resize: none;
            font-size: 16px;
        }

        /* Buttons */
        button {
            display: block;
            width: 48%;
            padding: 12px;
            margin: 5px 1%;
            color: white;
            font-size: 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            opacity: 0.9;
        }

        button[onclick="autoCalculate()"],
        button[onclick="manualCalculate()"] {
            background-color: #007bff;
        }

        button[onclick="clearManual()"],
        button[onclick="clearAuto()"] {
            background-color: #dc3545;
        }

        button[onclick="addRow()"] {
            background-color: #28a745;
            width: 100%;
            margin: 10px 0;
        }

        button[onclick="copyAutoResult()"],
        button[onclick="copyManualResult()"] {
            background-color: #6c757d;
            width: 100%;
            margin-top: 10px;
        }

        /* Time Row Styling */
        .time-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .time-row label {
            flex: 1;
            font-size: 14px;
        }

        .time-row input {
            flex: 2;
            margin: 0 5px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        /* Results Section */
        .results {
            text-align: left;
            font-size: 14px;
            margin-top: 15px;
            border-top: 1px solid #ddd;
            padding-top: 10px;
        }

        /* Footer Styling */
        footer {
            width: 100%;
            background-color: gray;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 14px;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
        }

        footer a {
            color: white;
            text-decoration: none;
            font-weight: bold;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .tabcontent {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'auto')" id="defaultOpen">Auto</button>
        <button class="tablinks" onclick="openTab(event, 'manual')">Manual</button>
    </div>

    <!-- Auto Hours Calculator -->
    <div id="auto" class="tabcontent">
        <h2>Auto Hours Calculator</h2>
        <textarea id="auto_input" placeholder="Paste your schedule here (e.g., 09:00-12:00, 13:00-15:00)"></textarea>
        <div class="button-row">
            <button onclick="autoCalculate()">Calculate</button>
            <button onclick="clearAuto()">Clear</button>
        </div>
        <div id="auto_result" class="results"></div>
        <button id="copy_auto_button" onclick="copyAutoResult()" style="display: none;">Copy Results</button>
    </div>

    <!-- Manual Hours Calculator -->
    <div id="manual" class="tabcontent">
        <h2>Manual Hours Calculator</h2>
        <div id="manual_fields">
            <div class="time-row">
                <label>Start</label>
                <input type="time" class="start_time">
                <label>End</label>
                <input type="time" class="end_time">
            </div>
        </div>
        <button onclick="addRow()">+ Add More Lines</button>
        <div class="button-row">
            <button onclick="manualCalculate()">Calculate</button>
            <button onclick="clearManual()">Clear</button>
        </div>
        <div id="manual_result" class="results"></div>
        <button id="copy_manual_button" onclick="copyManualResult()" style="display: none;">Copy Results</button>
    </div>

    <footer>
        Created by <a href="https://www.linkedin.com/in/masumkhaled" target="_blank">Masum Khaled</a>
    </footer>

    <script>
        // Open Tab Functionality
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Auto Hours Calculator
        function autoCalculate() {
            const input = document.getElementById("auto_input").value;
            const resultDiv = document.getElementById("auto_result");
            const copyButton = document.getElementById("copy_auto_button");
            resultDiv.innerHTML = ""; // Clear previous results
            copyButton.style.display = "none";

            if (!input) {
                resultDiv.textContent = "Please paste your schedule!";
                return;
            }

            const timeBlocks = input.match(/\d{1,2}[:h]?\d{0,2}(?:\s|-)\d{1,2}[:h]?\d{0,2}/g) || [];
            let totalMinutes = 0;

            timeBlocks.forEach((block, index) => {
                const [start, end] = block.split(/[-\s]/).map(time => time.trim());
                const [startH, startM] = start.split(":").map(Number);
                const [endH, endM] = end.split(":").map(Number);

                let blockMinutes = (endH * 60 + endM) - (startH * 60 + startM);
                if (blockMinutes < 0) blockMinutes += 24 * 60; // Handle overnight times

                totalMinutes += blockMinutes;
                const hours = Math.floor(blockMinutes / 60);
                const minutes = blockMinutes % 60;

                resultDiv.innerHTML += `Line ${index + 1}: ${hours} Hours, ${minutes} Minutes<br>`;
            });

            const totalHours = Math.floor(totalMinutes / 60);
            const totalMinutesRemaining = totalMinutes % 60;
            resultDiv.innerHTML += `<b>Total Time: ${totalHours} Hours, ${totalMinutesRemaining} Minutes</b>`;
            copyButton.style.display = "block";
        }

        function clearAuto() {
            document.getElementById("auto_input").value = "";
            document.getElementById("auto_result").textContent = "";
            document.getElementById("copy_auto_button").style.display = "none";
        }

        function copyAutoResult() {
            const result = document.getElementById("auto_result").textContent;
            navigator.clipboard.writeText(result);
            alert("Results copied to clipboard!");
        }

        // Manual Hours Calculator
        function addRow() {
            const container = document.getElementById("manual_fields");
            const row = document.createElement("div");
            row.className = "time-row";
            row.innerHTML = `
                <label>Start</label>
                <input type="time" class="start_time">
                <label>End</label>
                <input type="time" class="end_time">
            `;
            container.appendChild(row);
        }

        function manualCalculate() {
            const rows = document.querySelectorAll("#manual_fields .time-row");
            let totalMinutes = 0;
            const resultDiv = document.getElementById("manual_result");
            const copyButton = document.getElementById("copy_manual_button");
            resultDiv.innerHTML = ""; // Clear previous results
            copyButton.style.display = "none";

            rows.forEach((row, index) => {
                const start = row.querySelector(".start_time").value;
                const end = row.querySelector(".end_time").value;

                if (start && end) {
                    const [startH, startM] = start.split(":").map(Number);
                    const [endH, endM] = end.split(":").map(Number);
                    let blockMinutes = (endH * 60 + endM) - (startH * 60 + startM);
                    if (blockMinutes < 0) blockMinutes += 24 * 60; // Handle overnight times

                    totalMinutes += blockMinutes;

                    const hours = Math.floor(blockMinutes / 60);
                    const minutes = blockMinutes % 60;

                    resultDiv.innerHTML += `Line ${index + 1}: ${hours} Hours, ${minutes} Minutes<br>`;
                }
            });

        const totalHours = Math.floor(totalMinutes / 60);
            const totalMinutesRemaining = totalMinutes % 60;
            resultDiv.innerHTML += `<b>Total Time: ${totalHours} Hours, ${totalMinutesRemaining} Minutes</b>`;
            copyButton.style.display = "block";
        }

        function clearManual() {
            const container = document.getElementById("manual_fields");
            container.innerHTML = ''; // Clear all time rows
            addRow(); // Add a new row to keep the initial row
            document.getElementById("manual_result").textContent = "";
            document.getElementById("copy_manual_button").style.display = "none";
        }

        function copyManualResult() {
            const result = document.getElementById("manual_result").textContent;
            navigator.clipboard.writeText(result);
            alert("Results copied to clipboard!");
        }

        // Initialize default tab
        document.getElementById("defaultOpen").click();
    </script>
</body>
</html>
