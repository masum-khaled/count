<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hours Calculator</title>
  <style>
    /* General Body Styling */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
    }

    /* Tab Button Styling */
    .tab {
      overflow: hidden;
      background-color: #333;
    }

    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      color: white;
      font-size: 17px;
    }

    .tab button:hover {
      background-color: #575757;
    }

    .tab button.active {
      background-color: #007bff;
    }

    /* Tab Content */
    .tabcontent {
      display: none;
      padding: 20px;
    }

    /* Calculator Wrapper */
    .calculator-container {
      width: 300px; /* Ensures both calculators have the same width */
      background-color: #ffffff;
      padding: 20px;
      margin: 20px auto;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    /* Textarea */
    textarea {
      width: 100%;
      height: 80px;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    /* Buttons */
    button {
      display: block;
      width: 100%;
      padding: 10px;
      margin: 5px 0;
      color: #fff;
      font-size: 14px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      opacity: 0.9;
    }

    button[onclick="autoCalculate()"] {
      background-color: #007bff;
    }

    button[onclick="addRow()"] {
      background-color: #28a745;
    }

    button[onclick="clearManual()"] {
      background-color: #dc3545;
    }

    /* Time Row Styling */
    .time-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .time-row label {
      flex: 1;
      font-size: 14px;
    }

    .time-row input {
      flex: 2;
      margin: 0 5px;
      padding: 5px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .calculator-container {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="tab">
    <button class="tablinks" onclick="openTab(event, 'auto')" id="defaultOpen">Auto</button>
    <button class="tablinks" onclick="openTab(event, 'manual')">Manual</button>
  </div>

  <!-- Auto Hours Calculator -->
  <div id="auto" class="tabcontent">
    <div class="calculator-container">
      <h2>Auto Hours Calculator</h2>
      <textarea id="auto_input" placeholder="Paste your schedule here (e.g., 09:00-12:00, 13:00-15:00)"></textarea>
      <button onclick="autoCalculate()">Calculate Total Hours</button>
      <div id="auto_result"></div>
    </div>
  </div>

  <!-- Manual Hours Calculator -->
  <div id="manual" class="tabcontent">
    <div class="calculator-container">
      <h2>Hours Manual Calculator</h2>
      <div id="manual_fields">
        <div class="time-row">
          <label>Start</label>
          <input type="time" class="start_time">
          <label>End</label>
          <input type="time" class="end_time">
        </div>
      </div>
      <button onclick="addRow()">+ Add More Lines</button>
      <button onclick="manualCalculate()">Calculate</button>
      <button onclick="clearManual()">Clear</button>
      <div id="manual_result"></div>
    </div>
  </div>

  <script>
    // Open Tab Functionality
    function openTab(evt, tabName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      document.getElementById(tabName).style.display = "block";
      evt.currentTarget.className += " active";
    }

    // Auto Hours Calculator
    function autoCalculate() {
      const input = document.getElementById("auto_input").value;
      const resultDiv = document.getElementById("auto_result");
      if (!input) {
        resultDiv.textContent = "Please paste your schedule!";
        return;
      }
      const timeBlocks = input.split(",");
      let totalMinutes = 0;

      timeBlocks.forEach(block => {
        const [start, end] = block.split("-").map(time => time.trim());
        const [startH, startM] = start.split(":").map(Number);
        const [endH, endM] = end.split(":").map(Number);
        totalMinutes += (endH * 60 + endM) - (startH * 60 + startM);
      });

      const hours = Math.floor(totalMinutes / 60);
      const minutes = totalMinutes % 60;
      resultDiv.textContent = `Total Time: ${hours} Hours, ${minutes} Minutes`;
    }

    // Manual Hours Calculator
    function addRow() {
      const container = document.getElementById("manual_fields");
      const row = document.createElement("div");
      row.className = "time-row";
      row.innerHTML = `
        <label>Start</label>
        <input type="time" class="start_time">
        <label>End</label>
        <input type="time" class="end_time">
      `;
      container.appendChild(row);
    }

    function manualCalculate() {
      const rows = document.querySelectorAll("#manual_fields .time-row");
      let totalMinutes = 0;
      rows.forEach(row => {
        const start = row.querySelector(".start_time").value;
        const end = row.querySelector(".end_time").value;
        if (start && end) {
          const [startH, startM] = start.split(":").map(Number);
          const [endH, endM] = end.split(":").map(Number);
          totalMinutes += (endH * 60 + endM) - (startH * 60 + startM);
        }
      });
      const hours = Math.floor(totalMinutes / 60);
      const minutes = totalMinutes % 60;
      document.getElementById("manual_result").textContent = `Total Time: ${hours} Hours, ${minutes} Minutes`;
    }

    function clearManual() {
      document.getElementById("manual_fields").innerHTML = `
        <div class="time-row">
          <label>Start</label>
          <input type="time" class="start_time">
          <label>End</label>
          <input type="time" class="end_time">
        </div>
      `;
      document.getElementById("manual_result").textContent = "";
    }

    // Set Default Tab
    document.getElementById("defaultOpen").click();
  </script>
</body>
</html>
